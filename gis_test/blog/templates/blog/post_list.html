<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <title>마커 클러스터러 사용하기</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="{% static 'bootstrap/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<body>
<div class="container">
    <div class="row">
        <div class="card col-lg-9 float-start p-0">
            <div id="map" style="height:800px;"></div>
        </div>
        <div class="col-md-4 col-lg-3 mt-4 float-end">
            <div class="card my-4">
                <div class="card-header">위험 범위</div>
                <div class="card-body d-flex justify-content-between">
                    <button id="m500" class="range-btn" style="background-color: #66a3ff">500m</button>
                    <button id="m1000" class="range-btn" style="background-color: #3385ff">1km</button>
                    <button id="m2000" class="range-btn" style="background-color: #0066ff">2km</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9d03e29c5153c0934ebbe2c8ede4fdd2&libraries=clusterer"></script>
<script>
var mapContainer = document.getElementById('map'),
    mapOption = {
        center: new kakao.maps.LatLng(38.263044, 127.267627),
        level: 3
    };

var map = new kakao.maps.Map(mapContainer, mapOption);

var m500 = document.getElementById('m500');
var m1000 = document.getElementById('m1000');
var m3000 = document.getElementById('m2000');

m500.addEventListener('click', function() {
    setLevel(6);
});
m1000.addEventListener('click', function() {
    setLevel(7);
});
m3000.addEventListener('click', function() {
    setLevel(8);
});

function setLevel(level) {
    map.setLevel(level);
}


</script>
{% if post_list.exists %}
{% for i in post_list %}
<p>{{ i.farm_name | truncatechars_html:10 | safe }}</p>

{% endfor %}
{% endif %}
</body>
</html>
